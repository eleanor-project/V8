<!DOCTYPE html>
<html>
<head>
  <title>ELEANOR â€” Governance in Action</title>
  <style>
    body { font-family: system-ui; background: #0e0e11; color: #eee; padding: 2rem; }
    textarea { width: 100%; height: 120px; font-size: 1rem; }
    button { padding: 0.6rem 1rem; font-size: 1rem; margin-top: 0.5rem; }
    .panel { background: #1a1a22; padding: 1rem; margin-top: 1rem; border-radius: 8px; }
    .critic { color: #8be9fd; }
    .final { color: #a6ffcb; }
  </style>
</head>
<body>

<h1>ðŸ§  ELEANOR</h1>
<p>Governance as infrastructure â€” not control.</p>

<textarea id="prompt" placeholder="Ask Eleanor something ethically complicated..."></textarea>
<br>
<button onclick="run()">Run Eleanor</button>

<div class="panel">
  <strong>Live Deliberation</strong>
  <div id="stream"></div>
</div>

<div class="panel final" id="final"></div>

<script>
function run() {
  document.getElementById("stream").innerHTML = "";
  document.getElementById("final").innerHTML = "";

  const ws = new WebSocket("ws://localhost:8000/stream");

  ws.onopen = () => {
    ws.send(JSON.stringify({
      prompt: document.getElementById("prompt").value
    }));
  };

  ws.onmessage = (event) => {
    const data = JSON.parse(event.data);
    if (data.type === "critic") {
      document.getElementById("stream").innerHTML +=
        `<div class="critic">â€¢ ${data.name}: ${data.message}</div>`;
    }
    if (data.type === "final") {
      document.getElementById("final").innerHTML =
        `<strong>Final Answer</strong><br>${data.answer}`;
      ws.close();
    }
  };
}
</script>

</body>
</html>


