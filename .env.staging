# ELEANOR V8 Staging Configuration
# This file contains staging-specific settings

# Environment
ELEANOR_ENVIRONMENT=staging

# Engine Settings
ELEANOR_DETAIL_LEVEL=2
ELEANOR_ENABLE_REFLECTION=true
ELEANOR_ENABLE_DRIFT_CHECK=true
ELEANOR_ENABLE_PRECEDENT_ANALYSIS=true

# LLM Configuration
ELEANOR_LLM__PROVIDER=ollama
ELEANOR_LLM__MODEL_NAME=llama3.2:3b
ELEANOR_LLM__BASE_URL=http://ollama:11434
ELEANOR_LLM__TIMEOUT=30.0
ELEANOR_LLM__MAX_RETRIES=3

# Router Configuration
ELEANOR_ROUTER__HEALTH_CHECK_INTERVAL=60
ELEANOR_ROUTER__FALLBACK_MODEL=llama3.2:3b
ELEANOR_ROUTER__ENABLE_COST_OPTIMIZATION=true

# Precedent Configuration
ELEANOR_PRECEDENT__BACKEND=chroma
ELEANOR_PRECEDENT__CONNECTION_STRING=http://chroma:8000
ELEANOR_PRECEDENT__CACHE_TTL=3600
ELEANOR_PRECEDENT__MAX_RESULTS=5

# Evidence Recording
ELEANOR_EVIDENCE__ENABLED=true
ELEANOR_EVIDENCE__JSONL_PATH=/data/evidence.jsonl
ELEANOR_EVIDENCE__BUFFER_SIZE=1000
ELEANOR_EVIDENCE__FLUSH_INTERVAL=5.0
ELEANOR_EVIDENCE__SANITIZE_SECRETS=true

# Performance
ELEANOR_PERFORMANCE__MAX_CONCURRENCY=12
ELEANOR_PERFORMANCE__TIMEOUT_SECONDS=10.0
ELEANOR_PERFORMANCE__ENABLE_ADAPTIVE_CONCURRENCY=true
ELEANOR_PERFORMANCE__TARGET_LATENCY_MS=500.0

# Caching
ELEANOR_CACHE__ENABLED=true
ELEANOR_CACHE__REDIS_URL=redis://redis:6379/0
ELEANOR_CACHE__PRECEDENT_TTL=3600
ELEANOR_CACHE__EMBEDDINGS_TTL=7200
ELEANOR_CACHE__CRITICS_TTL=1800

# Security
ELEANOR_SECURITY__MAX_INPUT_SIZE_BYTES=100000
ELEANOR_SECURITY__ENABLE_PROMPT_INJECTION_DETECTION=true
ELEANOR_SECURITY__SECRET_PROVIDER=env  # Use vault in production

# Observability
ELEANOR_OBSERVABILITY__LOG_LEVEL=INFO
ELEANOR_OBSERVABILITY__ENABLE_STRUCTURED_LOGGING=true
ELEANOR_OBSERVABILITY__ENABLE_TRACING=true
ELEANOR_OBSERVABILITY__OTEL_ENDPOINT=http://otel-collector:4317
ELEANOR_OBSERVABILITY__JAEGER_ENDPOINT=http://jaeger:14268/api/traces
ELEANOR_OBSERVABILITY__METRICS_PORT=9090

# Resilience
ELEANOR_RESILIENCE__ENABLE_CIRCUIT_BREAKERS=true
ELEANOR_RESILIENCE__CIRCUIT_BREAKER_THRESHOLD=5
ELEANOR_RESILIENCE__CIRCUIT_BREAKER_TIMEOUT=60
ELEANOR_RESILIENCE__ENABLE_GRACEFUL_DEGRADATION=true
ELEANOR_RESILIENCE__MAX_RETRY_ATTEMPTS=3
